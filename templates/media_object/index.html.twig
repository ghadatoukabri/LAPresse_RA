{# 
       
<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script src="anime.min.js"></script>
 
 
    <h1>MediaObject index</h1>
  <a href="{{ path('media_object_new') }}">Create new</a>
     <a-scene embedded arjs='sourceType: webcam;'>
        {% for media_object in media_objects %}
           
                
                {% if   media_object.Type  =="patt"   %}
                
                <a-marker type='pattern' url="http://localhost/Lapresse_RA_Backend/public/media/{{ media_object.filePath }}">
            {% endif %}
           {% if   media_object.Type  =="img"   %}
                   <a-image src="http://localhost/Lapresse_RA_Backend/public/media/{{ media_object.filePath }}"
                    position='0 0.5 0' rotation='90 0 180' scale='2 2 2' ></a-image>
              
              </a-marker>
                 {% endif %}
                
               
      
    
             
        {% endfor %}

#}




<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script src="anime.min.js"></script>
 
 <script>
                       
            // Invitation Video Handler
            
            AFRAME.registerComponent('video-vidhandler', {
                init: function() {
		    console.log('video init entered');
                    this.toggle = false;
                    this.vid = document.querySelector("#invitation");
                    this.vid.pause();
                },
                tick: function() {
                    if (this.el.object3D.visible == true) {
                        if (!this.toggle) {
                            this.toggle = true;
                            this.vid.play();
                        }
                    } else {
                        this.toggle = false;
                        this.vid.pause();
                    }
                }
            });

            
        </script> 


    <h1>MediaObject index</h1>
  <a href="{{ path('media_object_new') }}">Create new</a>
     <a-scene id="scene" arjs='trackingMethod: best; debugUIEnabled: false;' vr-mode-ui="enabled: false" ar-template >
       
       
       
       
       
       
        {% for media_object in media_objects %}
           
                
                {% if   media_object.Type  =="patt"   %}
                
                <a-marker type='pattern' url="http://localhost/Lapresse_RA_Backend/public/media/{{ media_object.filePath }}">
            {% endif %}
           {% if   media_object.Type  =="img"   %}
                   <a-image src="http://localhost/Lapresse_RA_Backend/public/media/{{ media_object.filePath }}"
                    position='0 0.5 0' rotation='90 0 180' scale='2 2 2' ></a-image>
              
              </a-marker>
                 {% endif %}
                
                {% if   media_object.Type  =="vid"   %}

<a-assets>

                
                <!-- Invitation  Video -->
                
                <video preload="none" id="invitation" response-type="arraybuffer" loop="false" crossorigin webkit-playsinline playsinline controls>
                    <source  src="http://localhost/Lapresse_RA_Backend/public/media/{{ media_object.filePath }}">
                </video>

               
            </a-assets>
            




                
               
            {% endif %}
           {% if   media_object.Type  =="vidpatt"   %}
                    <a-marker id="marker1" type='pattern' url='http://localhost/Lapresse_RA_Backend/public/media/{{ media_object.filePath }}' video-vidhandler>
                <!--<a-box position='0 0 0' material='color: red;'></a-box>-->
                <a-plane scale = "4 2" position='0 0.1 0' rotation="-90 0 0" material='transparent:true;src:#invitation' controls></a-plane>
                <!--<a-entity text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: Fun Moments"></a-entity>-->
            </a-marker>
                 {% endif %}
      
    
             
        {% endfor %}





      

  

    <!-- add a simple camera -->
    <a-entity camera></a-entity>
  </a-scene>
 



